{"version":3,"sources":["../../../src/validate/__tests__/index.unit.js"],"names":["describe","beforeEach","Object","keys","prop","it","handler","to","equal","config","servers","one","host","errors","e","console","log","instanceOf","Array"],"mappings":";;AAAA;;AACA;;;;;;AAEAA,SAAS,WAAT,EAAsB,YAAW;AAC/BC,aAAW,YAAM;AAAA;AAAA;AAAA;;AAAA;AACf,2BAAmBC,OAAOC,IAAP,0BAAnB,8HAAmD;AAAA,YAAxCC,IAAwC;;AACjD,eAAO,yBAAkBA,IAAlB,CAAP;AACD;AAHc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIhB,GAJD;;AAMAJ,WAAS,oBAAT,EAA+B,YAAW;AACxCK,OAAG,sBAAH,EAA2B,YAAW;AACpC,UAAMC,UAAU,SAAVA,OAAU,GAAM,CAAG,CAAzB;AACA,qCAAmB,SAAnB,EAA8BA,OAA9B;AACA,wBAAO,yBAAkB,SAAlB,CAAP,EAAqCC,EAArC,CAAwCC,KAAxC,CAA8CF,OAA9C;AACD,KAJD;AAKD,GAND;;AAQAN,WAAS,UAAT,EAAqB,YAAW;AAC9BK,OAAG,4BAAH,EAAiC,YAAW;AAC1C,UAAMI,SAAS;AACbC,iBAAS;AACPC,eAAK;AACHC,kBAAM;AADH;AADE;AADI,OAAf;;AAQA,UAAIC,eAAJ;;AAEA,UAAI;AACFA,iBAAS,qBAASJ,MAAT,CAAT;AACD,OAFD,CAEE,OAAOK,CAAP,EAAU;AACVC,gBAAQC,GAAR,CAAYF,CAAZ;AACD;AACD;AACA,wBAAOD,MAAP,EAAeI,UAAf,CAA0BC,KAA1B;AACD,KAlBD;AAmBD,GApBD;AAqBD,CApCD","file":"index.unit.js","sourcesContent":["import { expect } from 'chai';\nimport validate, { _pluginValidators, addPluginValidator } from '../index';\n\ndescribe('validator', function() {\n  beforeEach(() => {\n    for (const prop of Object.keys(_pluginValidators)) {\n      delete _pluginValidators[prop];\n    }\n  });\n\n  describe('addPluginValidator', function() {\n    it('should add validator', function() {\n      const handler = () => { };\n      addPluginValidator('metrics', handler);\n      expect(_pluginValidators['metrics']).to.equal(handler);\n    });\n  });\n\n  describe('validate', function() {\n    it('should validate the config', function() {\n      const config = {\n        servers: {\n          one: {\n            host: '0.0.0.0'\n          }\n        }\n      };\n\n      let errors;\n\n      try {\n        errors = validate(config);\n      } catch (e) {\n        console.log(e);\n      }\n      // console.log(errors);\n      expect(errors).instanceOf(Array);\n    });\n  });\n});\n"]}